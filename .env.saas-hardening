# SaaS Hardening Configuration
# All features are DISABLED by default for safety
# Enable one at a time and monitor for 24-48 hours

# =============================================================================
# PHASE 1: Foundation Layer
# =============================================================================

# Request Correlation & Tracing
# Adds correlation IDs to all requests for better debugging
# SAFE: Always enabled, no performance impact
# (Correlation middleware is always active)

# Structured Logging
# Enables JSON-formatted logs for better parsing and monitoring
# SAFE: Falls back to console.log when disabled
STRUCTURED_LOGGING=false
LOG_LEVEL=info

# =============================================================================
# PHASE 2: Security Hardening
# =============================================================================

# Audit Logging
# Logs sensitive actions (login, task assignment, role changes)
# SAFE: Non-blocking, only logs when enabled
AUDIT_LOGGING=false

# Anomaly Detection
# Detects suspicious behavior patterns without blocking users
# SAFE: Only monitors, doesn't block legitimate users
ANOMALY_DETECTION=false

# Anomaly Detection Thresholds
RAPID_REQUEST_THRESHOLD=100
SUSPICIOUS_IP_THRESHOLD=10
BULK_OPERATION_THRESHOLD=50
BUSINESS_HOUR_START=9
BUSINESS_HOUR_END=18
FLAG_OFF_HOURS=false
FLAG_SUSPICIOUS_UA=false

# =============================================================================
# PHASE 3: Observability & Monitoring
# =============================================================================

# Performance Monitoring
# Tracks slow requests and route performance
# SAFE: Non-blocking, only monitors when enabled
PERFORMANCE_MONITORING=false

# Performance Thresholds (in milliseconds)
SLOW_REQUEST_THRESHOLD=1000
VERY_SLOW_REQUEST_THRESHOLD=5000
STUCK_REQUEST_THRESHOLD=30000

# Health Check Logging
# Logs health check requests for monitoring
# SAFE: Optional logging only
HEALTH_CHECK_LOGGING=false

# =============================================================================
# PHASE 4: Operational Safety (Future)
# =============================================================================

# Feature Flags (for future use)
# All features disabled by default
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_BULK_OPERATIONS=false
FEATURE_DATA_EXPORT=false

# Circuit Breaker (for future use)
# Graceful degradation controls
CIRCUIT_BREAKER_ENABLED=false

# Graceful Degradation (for future use)
# Disable non-critical features under load
DEGRADE_ANALYTICS=false
DEGRADE_NOTIFICATIONS=false

# =============================================================================
# PHASE 5: Monetization Readiness (Future)
# =============================================================================

# Usage Metrics Collection
# Collects usage data for future billing (no enforcement)
# SAFE: Only collects data, no limits enforced
USAGE_METRICS=false

# Plan Enforcement (DISABLED - for future use)
# When enabled, enforces plan limits
# SAFE: Disabled by default, no current enforcement
ENFORCE_LIMITS=false

# =============================================================================
# DEPLOYMENT INSTRUCTIONS
# =============================================================================

# 1. Deploy with ALL features disabled (current state)
# 2. Enable STRUCTURED_LOGGING=true first, monitor for 24h
# 3. Enable AUDIT_LOGGING=true, monitor for 24h  
# 4. Enable PERFORMANCE_MONITORING=true, monitor for 24h
# 5. Enable ANOMALY_DETECTION=true, monitor for 48h
# 6. Gradually enable other features as needed

# =============================================================================
# MONITORING RECOMMENDATIONS
# =============================================================================

# Watch these logs after enabling features:
# - Application startup logs
# - Error rates in existing functionality
# - Response times for existing endpoints
# - Memory usage patterns
# - Database connection stability

# If any issues occur:
# 1. Immediately disable the last enabled feature
# 2. Restart the application
# 3. Monitor for 1 hour to ensure stability
# 4. Investigate logs before re-enabling